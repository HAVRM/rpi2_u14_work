<!DOCUTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0.1 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--<html>
 <head>
  <meta http-equiv="Content-Type" content="text/html;charset=Shift_JIS">
  <title>test</title>
 </head>
 <body>
  <p>this is test page</p>
  <p><a href="file/kusen_01.pdf#page=5">test</a>
  <p><object data="file/kusen_01.pdf#page=5" type="application/pdf" width="1280" height="960"></object></p>
 </body>
</html>-->
<html>
<head><title>サーバー上のテキストファイルを読み込む</title>
</head>
<body>
<script type="text/javascript">
function loadFile(fileName){
   httpObj = new XMLHttpRequest();
   httpObj.open('GET',fileName+"?"+(new Date()).getTime(),true);
   // ?以降はキャッシュされたファイルではなく、毎回読み込むためのもの
   httpObj.send(null);
   httpObj.onreadystatechange = function(){
      if ( (httpObj.readyState == 4) && (httpObj.status == 200) ){
         document.getElementById("text1").value=httpObj.responseText;
      }
   }
}

setInterval("loadFile('test.cgi')",1000);
</script>

<!--<input type="button" value="ファイル読み込み" 
       onClick="loadFile('test.cgi')" />　
<input type="button" value="クリア" 
       onClick="document.getElementById('text1').value='';" />-->
<br>
<textarea name="text1" cols="40" rows="20"></textarea>

</body>
</html>

